{"version":3,"sources":["components/searchForm/searchForm.module.css","components/gallery/gallery.module.css","components/photoCard/photoCard.module.css","components/loadMoreBtn/loadMoreBtn.module.css","components/app.module.css","components/searchForm/SearchForm.jsx","services/service.js","components/photoCard/PhotoCard.jsx","components/gallery/Gallery.jsx","components/loadMoreBtn/LoadMoreBtn.jsx","components/modal/ModalStyled.js","components/modal/Modal.jsx","components/App.jsx","index.js"],"names":["module","exports","SearchForm","state","value","handleChange","e","setState","target","handleSubmit","onSubmit","props","preventDefault","this","className","styles","form","input","onChange","type","placeholder","autoComplete","Component","fetcher","page","query","baseURL","axios","get","then","data","hits","PhotoCard","onZoom","container","image","src","webformatURL","alt","tags","iconsContainer","description","likes","views","comments","downloads","zoomInBtn","onClick","id","Gallery","items","toGetID","list","map","item","listItem","key","LoadMoreBtn","onLoadMore","button","Overlay","styled","div","ModalWindow","Image","img","Modal","handleKeyPress","onExit","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","picture","height","style","top","largeImageURL","App","pictures","activePage","bigPictureIsShowing","pictureToShow","fetchPictures","handleLoadMoreClick","getID","find","handleExit","prevProps","prevState","prevPage","nextPage","prevQuery","nextQuery","scrollTo","scrollY","innerHeight","behavior","a","func","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56f95088.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"searchForm_form__1B5rb\",\"input\":\"searchForm_input__3gmqC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"gallery_list__J_x2m\",\"listItem\":\"gallery_listItem__1soEk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"photoCard_container__3ErO0\",\"zoomInBtn\":\"photoCard_zoomInBtn__UFp_e\",\"image\":\"photoCard_image__3JOZt\",\"iconsContainer\":\"photoCard_iconsContainer__1KuVW\",\"description\":\"photoCard_description__3mHaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"loadMoreBtn_button__1gu1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__S2vmH\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './searchForm.module.css';\n\nclass SearchForm extends Component {\n  state = { value: '' };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    e.preventDefault();\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <input\n          className={styles.input}\n          onChange={this.handleChange}\n          value={value}\n          type=\"text\"\n          placeholder=\"Search images...\"\n          autoComplete=\"off\"\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import axios from 'axios';\n\nconst fetcher = (page, query = 'cat') => {\n  const baseURL = `https://pixabay.com/api/?key=14164128-6f513c86b72b6001f0cc0401b&image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12`;\n  return axios.get(baseURL).then(data => data.data.hits);\n};\n\nexport default fetcher;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './photoCard.module.css';\n\nconst PhotoCard = ({ data, onZoom }) => (\n  <div className={styles.container}>\n    <img className={styles.image} src={data.webformatURL} alt={data.tags} />\n    <div className={styles.iconsContainer}>\n      <p className={styles.description}>\n        <i className=\"material-icons\">thumb_up</i>\n        {data.likes}\n      </p>\n      <p className={styles.description}>\n        <i className=\"material-icons\">visibility</i>\n        {data.views}\n      </p>\n      <p className={styles.description}>\n        <i className=\"material-icons\">comment</i>\n        {data.comments}\n      </p>\n      <p className={styles.description}>\n        <i className=\"material-icons\">cloud_download</i>\n        {data.downloads}\n      </p>\n    </div>\n    <button\n      className={styles.zoomInBtn}\n      type=\"button\"\n      onClick={() => onZoom(data.id)}\n    >\n      <i className=\"material-icons md-18 material-icons-style\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  data: PropTypes.shape().isRequired,\n  onZoom: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../photoCard/PhotoCard';\nimport styles from './gallery.module.css';\n\nconst Gallery = ({ items, toGetID }) => (\n  <ul className={styles.list}>\n    {items.map(item => (\n      <li className={styles.listItem} key={item.id}>\n        <PhotoCard data={item} onZoom={toGetID} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  toGetID: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './loadMoreBtn.module.css';\n\nconst LoadMoreBtn = ({ onLoadMore }) => (\n  <button className={styles.button} type=\"button\" onClick={onLoadMore}>\n    Load more\n  </button>\n);\n\nLoadMoreBtn.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default LoadMoreBtn;\n","import styled from 'styled-components';\n\nexport const Overlay = styled.div`\n  background-color: rgba(49, 42, 42, 0.664);\n  position: absolute;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const ModalWindow = styled.div`\n  background-color: #fff;\n  width: 70%;\n`;\n\nexport const Image = styled.img``;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Overlay, ModalWindow, Image } from './ModalStyled';\n\nclass Modal extends Component {\n  state = {};\n\n  static propTypes = {\n    picture: PropTypes.shape().isRequired,\n    onExit: PropTypes.func.isRequired,\n    height: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.key === 'Escape') {\n      this.props.onExit();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onExit();\n    }\n  };\n\n  render() {\n    const { picture, height } = this.props;\n    return (\n      <Overlay style={{ top: height }} onClick={this.handleBackdropClick}>\n        <ModalWindow>\n          <Image src={picture.largeImageURL} alt={picture.tags} />\n        </ModalWindow>\n      </Overlay>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport SearchForm from './searchForm/SearchForm';\nimport fetcher from '../services/service';\nimport Gallery from './gallery/Gallery';\nimport LoadMoreBtn from './loadMoreBtn/LoadMoreBtn';\nimport Modal from './modal/Modal';\nimport styles from './app.module.css';\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    activePage: 1,\n    query: '',\n    bigPictureIsShowing: false,\n    pictureToShow: null,\n  };\n\n  componentDidMount() {\n    this.fetchPictures();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { activePage: prevPage } = prevState;\n    const { activePage: nextPage } = this.state;\n    const { query: prevQuery } = prevState;\n    const { query: nextQuery } = this.state;\n    if (prevPage !== nextPage) {\n      fetcher(nextPage, nextQuery)\n        .then(pictures => {\n          this.setState(state => ({\n            pictures: [...state.pictures, ...pictures],\n          }));\n        })\n        .then(() =>\n          window.scrollTo({\n            top: window.scrollY + window.innerHeight - 100,\n            behavior: 'smooth',\n          }),\n        );\n    } else if (prevQuery !== nextQuery) {\n      const func = async () => {\n        await this.setState({ activePage: 1 });\n        this.fetchPictures();\n      };\n      func();\n    }\n  }\n\n  fetchPictures = () => {\n    const { activePage, query } = this.state;\n    fetcher(activePage, query).then(pictures => this.setState({ pictures }));\n  };\n\n  handleLoadMoreClick = () => {\n    this.setState(state => ({ activePage: state.activePage + 1 }));\n  };\n\n  handleSubmit = value => {\n    this.setState({ query: value });\n  };\n\n  getID = id => {\n    const { pictures } = this.state;\n    const pictureToShow = pictures.find(picture => picture.id === id);\n    this.setState({ bigPictureIsShowing: true, pictureToShow });\n  };\n\n  handleExit = () => {\n    this.setState({ bigPictureIsShowing: false });\n  };\n\n  render() {\n    const { pictures, pictureToShow, bigPictureIsShowing } = this.state;\n    return (\n      <div className={styles.container}>\n        <SearchForm onSubmit={this.handleSubmit} />\n        <Gallery items={pictures} toGetID={this.getID} />\n        {bigPictureIsShowing && (\n          <Modal\n            picture={pictureToShow}\n            onExit={this.handleExit}\n            height={`${window.scrollY}px`}\n          />\n        )}\n        <LoadMoreBtn onLoadMore={this.handleLoadMoreClick} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}